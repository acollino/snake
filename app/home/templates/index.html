{% extends 'base.html' %}

{% block title %}Snake Game{% endblock %}

{% block head %}
{% if session["user"] %}
<script src="{{ url_for('home.static', filename='home_stats.js') }}" defer></script>
{% else %}
<script src="{{ url_for('home.static', filename='home_buttons.js') }}" defer></script>
{% endif %}
{% endblock %}

{% block content %}
<div class="flex flex-col h-screen">
  <div class="flex px-8 py-4">
    <div class="material-symbols-outlined text-4xl w-40">menu</div>
    <div class="sigmar text-4xl grow text-center">Snake Game</div>
    {% if session["user"] %}
    <a href="/logout"
      class="bg-blue-500 text-neutral-800 py-1 px-2 font-bold rounded-lg border-4 border-neutral-800 ease-linear transition-all duration-150 active:bg-neutral-100 hover:border-blue-900">Logout</a>
    {% else %}
    <div class="flex w-40">
      <div id="login-btn"
        class="bg-blue-500 text-neutral-800 py-1 px-2 font-bold rounded-lg border-4 border-neutral-800 ease-linear transition-all duration-150 active:bg-neutral-100 hover:border-blue-900">
        Login</div>
      <div id="signup-btn"
        class="bg-purple-500 text-neutral-800 py-1 px-2 font-bold rounded-lg border-4 border-neutral-800 ease-linear transition-all duration-150 active:bg-neutral-100 hover:border-purple-900">
        Sign Up</div>
    </div>
    {% endif %}
  </div>
  {% with messages = get_flashed_messages() %}
  {% if messages %}
  <div>
    {% for message in messages %}
    <div class="text-lg text-center text-red-400">{{message}}</div>
    {% endfor %}
  </div>
  {% endif %}
  {% endwith %}
  <div class="flex mx-8 my-4 grow">
    <div id="stats" class="flex flex-col w-72">
      {% if session["user"] %}
      <div class="text-center font-bold underline text-xl">Your Stats</div>
      {% else %}
      <div class="text-center font-bold text-lg">You must be signed in to view your stats.</div>
      {% endif %}
    </div>
    <div class="grow text-center" id="game-container">{% include 'game.html' %}</div>
    {% include 'daily_snake.html' %}
  </div>
  <div class="hidden absolute pt-4 px-4 top-14 right-8 bg-slate-800 border-4 border-blue-900 rounded-lg"
    id="login-form">
    {% include 'login.html' %}
  </div>
  <div class="hidden absolute pt-4 px-4 top-14 right-8 bg-slate-800 border-4 border-purple-900 rounded-lg"
    id="signup-form">
    {% include 'signup.html' %}
  </div>
</div>
{% endblock %}